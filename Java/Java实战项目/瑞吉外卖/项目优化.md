# 项目优化

涉及到Git操作 创建新分支 合并分支等

IDEA创建新分支：右下角点击创建

IDEA合并分支：切换回master主分支，点击需要合并的分支，点击合并到master分支即可



## 缓存优化

当用户数量多，系统访问量大，**频繁的访问数据库**会导致系统性能下降，用户体验差

**采用Redis作缓存**

环境搭建：Spring Data Redis

缓存短信验证码：

将保存在Session中的验证码，改为存在Redis中

1. StringRedisTemplate
2. 将生成的验证码缓存到Redis中，并设置有效时间（setex）
3. 从Redis获取缓存的验证码，登录成功后删除缓存



缓存菜品数据：

分类缓存，不要全部缓存

1. 获取菜品信息时，先从Redis中获取菜品信息，有就直接返回，没有则查询数据库，并将信息存入Redis
2. 在修改菜品信息的方法中加入**清理缓存**的逻辑
3. 在修改了数据库中的数据之后，我们需要及时清理已缓存的数据，要**保证数据库中数据和缓存中数据的一致性**



**使用Spring Cache简化缓存优化**



缓存套餐数据：

导入Spring Cache和Redis相关依赖

1. 在application.yml中配置缓存数据过期时间
2. 启动类上添加@EnableCaching注解开启注解缓存
3. 在各个需要缓存的地方添加缓存操作注解，如@Cacheable等

